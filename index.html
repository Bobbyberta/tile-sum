<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Daily word puzzle game - Arrange letter tiles to form words in this Scrabble anagram challenge. Play a new puzzle every day!">
    <meta name="keywords" content="Daily word puzzle, Daily word challenge, Scrabble anagram game, word puzzle game, anagram puzzle, daily puzzle, word game, tile puzzle, Scrabble puzzle">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://sum-tile.uk/">
    <title>Sum Tile - Daily Word Puzzle | Scrabble Anagram Game</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="alternate icon" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <!-- Google Fonts -->
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Load fonts synchronously with display=swap to prevent layout shifts -->
    <link href="https://fonts.googleapis.com/css2?family=REM:wght@400;500;700;900&family=Inter:wght@700&display=swap" rel="stylesheet">
    
    <!-- Social Sharing Meta Tags -->
    <meta property="og:title" content="Sum Tile - Daily Word Puzzle | Scrabble Anagram Game">
    <meta property="og:description" content="Daily word puzzle game - Arrange letter tiles to form words in this Scrabble anagram challenge. Play a new puzzle every day!">
    <meta property="og:image" content="https://sum-tile.uk/social_share.png">
    <meta property="og:url" content="https://sum-tile.uk/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Sum Tile">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Sum Tile - Daily Word Puzzle | Scrabble Anagram Game">
    <meta name="twitter:description" content="Daily word puzzle game - Arrange letter tiles to form words in this Scrabble anagram challenge. Play a new puzzle every day!">
    <meta name="twitter:image" content="https://sum-tile.uk/social_share.png">
    <meta name="twitter:image:src" content="https://sum-tile.uk/social_share.png">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Sum Tile",
        "alternateName": "Daily Word Puzzle Game",
        "url": "https://sum-tile.uk/",
        "description": "Daily word challenge puzzle! Play Scrabble anagram game with brain teaser challenges. Daily word puzzle game where you arrange letter tiles to form words with Scrabble scoring.",
        "potentialAction": {
            "@type": "SearchAction",
            "target": {
                "@type": "EntryPoint",
                "urlTemplate": "https://sum-tile.uk/?q={search_term_string}"
            },
            "query-input": "required name=search_term_string"
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://sum-tile.uk/"
            }
        ]
    }
    </script>
    
    <!-- Google Analytics - Resource hints for faster connection -->
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://www.googletagmanager.com">
    
    <!-- Preload background image for large screens to prevent layout shifts -->
    <link rel="preload" href="bg-shapes.svg" as="image" media="(min-width: 768px)">
    
    <!-- Load CSS synchronously to prevent layout shifts -->
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-bg-primary min-h-screen font-rem flex flex-col">
    <!-- Skip to main content link -->
    <a href="#main-content" class="sr-only focus:w-auto focus:h-auto focus:p-4 focus:m-0 focus:overflow-visible focus:clip-auto focus:whitespace-normal focus:border-0 focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:bg-hint-button focus:text-white focus:rounded-lg focus:outline-none focus:ring-2 focus:ring-hint-button focus:ring-offset-2">
        Skip to main content
    </a>

    <main class="container mx-auto px-4 py-8 flex-1 flex flex-col justify-center items-center" id="main-content">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-text-primary mb-2 inline-block bg-bg-primary px-4 py-2 text-h1-title">Sum Tile</h1>
        </header>

        <div class="flex justify-center">
            <a 
                href="puzzle.html" 
                id="play-button"
                class="px-8 py-3 bg-submit text-text-primary font-black rounded-[24px] shadow-button hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-submit focus:ring-offset-2 transition-colors text-button text-lg md:text-xl"
            >
                Play
            </a>
        </div>
    </main>

    <footer class="text-center py-6 text-gray-700 text-xs">
        Â© <a href="https://bobbieallsop.co.uk" target="_blank" rel="noopener noreferrer" class="underline hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-text-primary rounded transition-colors">Bobbie Allsop</a> created Dec 2025
    </footer>
    
    <script>
        // Initialize dataLayer immediately so gtag calls can queue
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        window.gtag = gtag;
        
        // Load Google Analytics after page is interactive
        function loadGoogleAnalytics() {
            gtag('js', new Date());
            gtag('config', 'G-E4YJ359T9L', {
                'send_page_view': false // We'll send page views manually after load
            });
            
            // Load the GA script
            const script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-E4YJ359T9L';
            document.head.appendChild(script);
            
            // Send page view after script loads
            script.onload = function() {
                gtag('config', 'G-E4YJ359T9L');
                
                // Track Web Vitals if available
                if ('PerformanceObserver' in window) {
                    try {
                        // Largest Contentful Paint (LCP)
                        new PerformanceObserver((entryList) => {
                            const entries = entryList.getEntries();
                            const lastEntry = entries[entries.length - 1];
                            gtag('event', 'web_vitals', {
                                'event_category': 'Web Vitals',
                                'event_label': 'LCP',
                                'value': Math.round(lastEntry.renderTime || lastEntry.loadTime),
                                'non_interaction': true
                            });
                        }).observe({ entryTypes: ['largest-contentful-paint'] });
                        
                        // First Input Delay (FID)
                        new PerformanceObserver((entryList) => {
                            const entries = entryList.getEntries();
                            entries.forEach((entry) => {
                                gtag('event', 'web_vitals', {
                                    'event_category': 'Web Vitals',
                                    'event_label': 'FID',
                                    'value': Math.round(entry.processingStart - entry.startTime),
                                    'non_interaction': true
                                });
                            });
                        }).observe({ entryTypes: ['first-input'] });
                        
                        // Cumulative Layout Shift (CLS)
                        let clsValue = 0;
                        new PerformanceObserver((entryList) => {
                            const entries = entryList.getEntries();
                            entries.forEach((entry) => {
                                if (!entry.hadRecentInput) {
                                    clsValue += entry.value;
                                }
                            });
                            gtag('event', 'web_vitals', {
                                'event_category': 'Web Vitals',
                                'event_label': 'CLS',
                                'value': Math.round(clsValue * 1000) / 1000,
                                'non_interaction': true
                            });
                        }).observe({ entryTypes: ['layout-shift'] });
                    } catch (e) {
                        console.debug('Web Vitals tracking not available');
                    }
                }
            };
        }
        
        // Use requestIdleCallback if available, otherwise use setTimeout
        if ('requestIdleCallback' in window) {
            requestIdleCallback(loadGoogleAnalytics, { timeout: 2000 });
        } else {
            setTimeout(loadGoogleAnalytics, 1);
        }
        
        // Track play button click
        document.addEventListener('DOMContentLoaded', () => {
            const playButton = document.getElementById('play-button');
            if (playButton) {
                playButton.addEventListener('click', () => {
                    if (typeof window.gtag !== 'undefined') {
                        window.gtag('event', 'play_button_click', {
                            'event_category': 'navigation',
                            'event_label': 'landing_page'
                        });
                    }
                });
            }
            
            // Lazy load background shapes on large screens (768px+)
            function loadBackgroundShapes() {
                // Check if screen is large enough (md breakpoint: 768px)
                if (window.innerWidth >= 768 && document.body.classList.contains('bg-bg-primary')) {
                    // Wait for page to be fully loaded before loading background
                    if (document.readyState === 'complete') {
                        document.body.classList.add('bg-loaded');
                    } else {
                        window.addEventListener('load', () => {
                            document.body.classList.add('bg-loaded');
                        });
                    }
                }
            }
            
            // Load background after DOM is ready
            loadBackgroundShapes();
            
            // Also handle window resize in case user resizes from small to large
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    loadBackgroundShapes();
                }, 150);
            });
        });
    </script>
</body>
</html>
